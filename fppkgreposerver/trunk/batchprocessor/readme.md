Tool to do batch-operations on a fppkg-repository. For example to upload the packages from a new Free Pascal-version.

It processes all the .zip-files it can find in the current directory. For example, to let the online fppkg-repository build all archives you can do:

./fppkgbatchprocessor build -c x86_64 -o linux -f trunk -b https://fpc.cnoc.nl/buildagenttrunk -j eyAidHlwIiA6ICJKV1QiLCAiYWxnIiA6ICJSUzI1NiIsICJraWQiIDogIjA0OWUwYTIwOTRmNjRhMjMxMDBkMTYxOTVhZjE4ZDU4IiB9.eyAiaXNzIiA6ICJodHRwczovL2ZwYy5jbm9jLm5sL2lkZW50aXR5c2VydmVyIiwgInN1YiIgOiAiTV9Kb29zdCIsICJhdWQiIDogImh0dHBzOi8vZnBjLmNub2MubmwvaWRlbnRpdHlzZXJ2ZXIvY29ubmVjdC9hdXRob3JpemUiLCAiZXhwIiA6IDE1ODM2ODYzNDgsICJuYmYiIDogMTU4MzY4Mjc0OCwgImNsaWVudF9pZCIgOiAiRlBQS0dXZWJDbGllbnQiLCAiYXV0aF90aW1lIiA6IDE1ODM2ODI3NDggfQ.d67X3WEF27R2jJ-4ezuznjV0JjVhZouyauXYqrtyX-lWsHhpBDAIezVUdpfRNytbbQalgq55CwcJwkVgwdhtvZprOCRTtW5gF1HeePUw8jhG2fwDlBZ60bCozaBFK1HAG8SDuxE37Kwg0eWc4DRG81go4cwGmSWRNNxQFx98FwggKQ3rsMOvj72jRIq-DRMy0WhpOWXdd9MFaiwOidJpitDFhy39WORZkXae32ygnwxcU1K7RofLS713wG9vbts-kvkP0x_QQd38cDf9hwvUC90RLtF0alRFF5dS-itba-FR1bWhljtA2JhEQA_Gn0gAN6brzZRWyAEVU0J4XqR6gQ

You have to replace the JWT-token with a new, valid one.

To build, upload and publish new versions of the packages you can use:

./fppkgbatchprocessor publish -R prod-320 -F https://fpc.cnoc.nl/fppkgrepository -c x86_64 -o linux -f 3.2.0 -b https://fpc.cnoc.nl/buildagent320 -r https://fpc.cnoc.nl/repository -d -j eyAidHlwIiA6ICJKV1QiLCAiYWxnIiA6ICJSUzI1NiIsICJraWQiIDogIjU3NTkzMWQ5ODAzZWE4ODJmYjM2YjZiYjc0MTdjMWJiIiB9.eyAiaXNzIiA6ICJodHRwczovL2ZwYy5jbm9jLm5sL2lkZW50aXR5c2VydmVyIiwgInN1YiIgOiAiTV9Kb29zdCIsICJhdWQiIDogImh0dHBzOi8vZnBjLmNub2MubmwvaWRlbnRpdHlzZXJ2ZXIvY29ubmVjdC9hdXRob3JpemUiLCAiZXhwIiA6IDE1ODU0MDgzNTcsICJuYmYiIDogMTU4NTQwNDc1NywgImNsaWVudF9pZCIgOiAiRlBQS0dXZWJDbGllbnQiLCAiYXV0aF90aW1lIiA6IDE1ODU0MDQ3NTcgfQ.bFsKIx113Q8Cwf_dlll6lf0-Mf8kxf5byUV6aeAvmuMLYKdZxPoGe7qWOZAft3DofEOjEy1VXkTxrV4Abl_WKF1vtf7brdHTQB6al7fjnR83ZW26VsQOP6GKrXGRvs3sv2GfPf-KochbxCBv9sBs95nJ-E4p1Rvw9148h9JaWbxEyfQuAQbhzcH2v6e9Jg_rHLkj_y4yYSqaVGRfmAaqoqQCjg1PhZ0LZeQ9Y441z0rmcMn_gL3nJz6AqSNRGVMHBNQg60m9g7SX7hc071yaLBwTT0eW-5u_Roh-msH_lCuUh-peplHshV8LG64mNQGdU_svIJzAGZOwZWGi5k9IJg

Note the -d option, with this option an archive is removed when publishing the packages has been succesful. This way only the problem-cases will remain.
